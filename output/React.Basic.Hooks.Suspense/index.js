// Generated by purs version 0.15.2
import * as $foreign from "./foreign.js";
import * as Control_Bind from "../Control.Bind/index.js";
import * as Control_Monad_Error_Class from "../Control.Monad.Error.Class/index.js";
import * as Control_Promise from "../Control.Promise/index.js";
import * as Effect from "../Effect/index.js";
import * as Effect_Aff from "../Effect.Aff/index.js";
import * as React_Basic from "../React.Basic/index.js";
import * as React_Basic_Hooks_Internal from "../React.Basic.Hooks.Internal/index.js";
var InProgress = /* #__PURE__ */ (function () {
    function InProgress(value0) {
        this.value0 = value0;
    };
    InProgress.create = function (value0) {
        return new InProgress(value0);
    };
    return InProgress;
})();
var Failed = /* #__PURE__ */ (function () {
    function Failed(value0) {
        this.value0 = value0;
    };
    Failed.create = function (value0) {
        return new Failed(value0);
    };
    return Failed;
})();
var Complete = /* #__PURE__ */ (function () {
    function Complete(value0) {
        this.value0 = value0;
    };
    Complete.create = function (value0) {
        return new Complete(value0);
    };
    return Complete;
})();
var Suspended = function (x) {
    return x;
};
var unsafeThrowPromise = /* #__PURE__ */ (function () {
    var $6 = Control_Monad_Error_Class.throwError(Control_Monad_Error_Class.monadThrowEffect);
    return function ($7) {
        return $6($7);
    };
})();
var suspense = /* #__PURE__ */ React_Basic.element($foreign.suspense_);
var suspend = function (v) {
    return React_Basic_Hooks_Internal.unsafeRenderEffect(function __do() {
        var result = v();
        if (result instanceof InProgress) {
            return Control_Bind.bindFlipped(Effect.bindEffect)(unsafeThrowPromise)(Control_Promise.fromAff(Effect_Aff.joinFiber(result.value0)))();
        };
        if (result instanceof Failed) {
            return Control_Monad_Error_Class.throwError(Control_Monad_Error_Class.monadThrowEffect)(result.value0)();
        };
        if (result instanceof Complete) {
            return result.value0;
        };
        throw new Error("Failed pattern match at React.Basic.Hooks.Suspense (line 34, column 5 - line 39, column 27): " + [ result.constructor.name ]);
    });
};
export {
    suspend,
    Suspended,
    InProgress,
    Failed,
    Complete,
    suspense
};
